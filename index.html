<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'/>
  <title>pizza</title>

  <script type='text/javascript' src="https://www.googletagmanager.com/gtag/js?id=UA-75046726-1" async></script>
  <script type='text/javascript'>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-75046726-1');
  </script>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
    }
    .vbox {
      display: flex;
      flex-direction: column;
    }
    .box {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }
    canvas {
      border: 1px solid black;
    }
    #controls {
      padding: 10px;
      background: #222;
    }
    button {
      background: #3f51b5;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }
    button:hover {
      background: #5468c9;
    }
    button:active {
      background: #2c3e8f;
    }
    .slider-container {
      display: flex;
      flex-direction: column;
      gap: 4px;
      min-width: 200px;
    }
    .slider-container label {
      font-size: 12px;
      color: #aaa;
    }
    input[type="range"] {
      width: 100%;
      height: 6px;
      background: #444;
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      background: #3f51b5;
      cursor: pointer;
      border-radius: 50%;
    }
    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      background: #3f51b5;
      cursor: pointer;
      border-radius: 50%;
      border: none;
    }
    .slider-value {
      font-size: 13px;
      font-weight: bold;
      color: #fff;
    }
    #fps_div {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid #444;
      font-size: 14px;
    }
  </style>
</head>

<body>

<div class='vbox'>
  <canvas id='pizza' width='1' height='1'></canvas>

  <div id='controls' class="vbox">
    <div id='controls_div' class="box">
      <button id='reset_button'>Reset</button>
      <button id='planet_button'>Planet</button>
      <button id='ball_button'>Ball</button>
      <button id='pizza_button'>Pizza Time</button>
      <button id='background_button'>Background Animation</button>
      <button id='pause_button'>Pause?</button>
      <button id='quadtree_button'>Quadtree (WIP)</button>
      <button id='purple_button'>Purple</button>
      <button id='debug_button'>Debug</button>
    </div>

    <div id='controls_div2' class="box">
      <div class="slider-container">
        <label>n divs: <span id="slider_value" class="slider-value">2</span></label>
        <input type="range" id='slider' min='1' max='8' step='1' value='2'>
      </div>
      <div class="slider-container">
        <label>explode force: <span id="explode_slider_value" class="slider-value">0.1</span></label>
        <input type="range" id='explode_slider' min='0.0' max='1.0' step='0.1' value='0.1'>
      </div>
      <div class="slider-container">
        <label>exploder size: <span id="exploder_size_slider_value" class="slider-value">1.5</span></label>
        <input type="range" id='exploder_size_slider' min='0.20' max='1.5' step='0.1' value='1.5'>
      </div>
      <div class="slider-container">
        <label>timestep scalar: <span id="timescale_slider_value" class="slider-value">0.3</span></label>
        <input type="range" id='timescale_slider' min='0.1' max='2.0' step='0.1' value='0.3'>
      </div>
    </div>

    <div id='fps_div' class="box">
      <div id='num_balls_label'>food</div>
      <div>,&ensp;</div>
      <div id='num_particles_label'></div>
      <div>,&ensp;</div>
      <div id='fps_label'>eat</div>
    </div>
  </div>
</div>

<script type="module">
  import { init } from './src/scripts/main.js';

  // Add slider value display updates
  document.getElementById('slider').addEventListener('input', (e) => {
    document.getElementById('slider_value').textContent = e.target.value;
  });
  document.getElementById('explode_slider').addEventListener('input', (e) => {
    document.getElementById('explode_slider_value').textContent = e.target.value;
  });
  document.getElementById('exploder_size_slider').addEventListener('input', (e) => {
    document.getElementById('exploder_size_slider_value').textContent = e.target.value;
  });
  document.getElementById('timescale_slider').addEventListener('input', (e) => {
    document.getElementById('timescale_slider_value').textContent = e.target.value;
  });

  init();
</script>

</body>

</html>

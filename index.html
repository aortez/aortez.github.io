<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>pizza</title>
    <script type="text/javascript">
      var FPS = 30;
      function init()
      {
        setInterval( function() { draw(); }, 1000 / FPS );
      }

      var counter = 0;
      var dir = 1;

      function draw()
      {
        var canvas = document.getElementById( 'pizza' );
        if ( !canvas.getContext )
        {
          return;
        }
        var ctx = canvas.getContext( '2d' );

        counter += dir;
        if ( counter > 40 ) dir = -1;
        if ( counter <= 0 ) dir = 1;

        canvas.width  = window.innerWidth * 0.9;
        canvas.height = window.innerHeight * 0.9;

        var num_cols = 10;
        var num_rows = 10;
        var cell_width = canvas.width / num_cols;
        var cell_height = canvas.height / num_rows;

        for ( var y = 0; y < num_rows; y++ )
        {
          for ( var x = 0.0; x < num_cols; x++ )
          {
            var red = ( 256.0 * ( ( x + counter * 0.25 ) / num_cols ) ).toFixed(0);
            var green = counter;//( 256.0 * ( x / num_cols ) ).toFixed(0);
            var blue = 0;//( 256.0 * ( x / num_cols ) ).toFixed(0);
            // ctx.fillStyle = "rgb(" + red + "," + green + "," + blue ")";
            ctx.fillStyle = "rgb(" + red + "," + green + "," + blue + ")";
            ctx.fillRect( x * cell_width, y * cell_height, cell_width, cell_height );
          }
        }
      }
    </script>
    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>
  </head>
  <body onload="init();">
    <canvas id="pizza" width="1" height="1"></canvas>
    <p>pizza</p>
  </body>
</html>
